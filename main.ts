namespace SpriteKind {
    export const Rock = SpriteKind.create()
    export const Collider = SpriteKind.create()
}
/**
 * 0 - Up
 * 
 * 1 - Right
 * 
 * 2 - Down
 * 
 * 3 - left
 */
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Fox,
    [img`
        ........e4e.....e4e...........
        ........e44e...e44e...........
        ........e444444444e...........
        ........e444444444e...........
        ........e444444444e...........
        ........44444444444...........
        ........44444444444...........
        ........44444444444...........
        .......4444444444444..........
        .......4444444444444..........
        ......444444444444444.........
        .......4444444444444..........
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        .........44444444.............
        ...........4444...............
        ...........4444...............
        ...........4444...............
        ...........4444...............
        ...........4444...............
        ...........4444...............
        ...........1111...............
        ...........1111...............
        `],
    500,
    false
    )
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Fox,
    [img`
        ...e.......e.............
        ..e1e.....e1e............
        ..e11e...e11e............
        ..e111444111e............
        ..e114444411e............
        ..e144444441e............
        ..44444444444............
        ..44444444444............
        ..444f444f444............
        .4444444444444......111..
        .444441f144444.....1111..
        444411111114444...44111..
        .4411111111144...44441...
        ...4444444444444.4444....
        ....4444444444444444.....
        ....44444444444444.......
        .....4444444444444.......
        .....111.111.dd111.......
        .....111.111.dd111.......
        .........................
        `],
    500,
    false
    )
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Fox,
    [img`
        .............e.......e...
        ............e1e.....e1e..
        ............e11e...e11e..
        ............e111444111e..
        ............e114444411e..
        ............e144444441e..
        ............44444444444..
        ............44444444444..
        ............444f444f444..
        ..111......4444444444444.
        ..1111.....444441f144444.
        ..11144...444411111114444
        ...14444...4411111111144.
        ....4444.4444444444444...
        .....4444444444444444....
        .......44444444444444....
        .......4444444444444.....
        .......111dd.111.111.....
        .......111dd.111.111.....
        .........................
        `],
    500,
    false
    )
})
function Spawn_Rocks () {
    for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
        if (Math.percentChance(70)) {
            Rock = sprites.create(img`
                . f f f f f f f f f f f f . . . 
                f f b b b b b c c c c c f f . . 
                f b b b b b b b c c c c c f f . 
                f b b b b b b b c c c c c c f f 
                f b b b b b b b b c c c c c c f 
                f b b b b b b b b c c c c c c f 
                f b b b b b b b b c c c c c c f 
                f b b b b b b b b c c c c c c f 
                f b b b b b b b c c c c c c c f 
                f f b b b b b c c c c c c c f f 
                . f f b b b b c c c c c c f f . 
                . . f f f f f f f f f f f f . . 
                `, SpriteKind.Rock)
            tiles.placeOnTile(Rock, value)
            tiles.setWallAt(value, true)
            sprites.setDataNumber(Rock, "Hits", 3)
        }
    }
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.runImageAnimation(
    Fox,
    [img`
        ...............1111...........
        ...............1111...........
        ...............4444...........
        ...............4444...........
        ...............4444...........
        ...............4444...........
        ...............4444...........
        ...............4444...........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        .............44444444.........
        ..........4444444444444.......
        .........444444444444444......
        ..........4444444444444.......
        ..........4444444444444.......
        ...........44444444444........
        ...........44444444444........
        ...........44444444444........
        ...........e444444444e........
        ...........e444444444e........
        ...........e444444444e........
        ...........e44e...e44e........
        ...........e4e.....e4e........
        `],
    500,
    false
    )
})
let Rock: Sprite = null
let Fox: Sprite = null
let Hit_Box = sprites.create(img`
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
    `, SpriteKind.Collider)
Fox = sprites.create(img`
    ...e.......e.............
    ..e1e.....e1e............
    ..e11e...e11e............
    ..e111444111e............
    ..e114444411e............
    ..e144444441e............
    ..44444444444............
    ..44444444444............
    ..444f444f444............
    .4444444444444......111..
    .444441f144444.....1111..
    444411111114444...44111..
    .4411111111144...44441...
    ...4444444444444.4444....
    ....4444444444444444.....
    ....44444444444444.......
    .....4444444444444.......
    .....111.111.dd111.......
    .....111.111.dd111.......
    .........................
    `, SpriteKind.Player)
controller.moveSprite(Fox)
tiles.setTilemap(tilemap`level1`)
scene.cameraFollowSprite(Fox)
Spawn_Rocks()
let Directions = 0
